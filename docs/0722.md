# 정규 표현식(RegExp 객체)

[돌아가기](/../javascript/)

정규 표현식(Regular Expression)은 줄여서 RegExp라고도 부릅니다. 정규 표현식은 특정한 규칙을 가진 문자열의 집합을 표현하는데 사용하는 ‘형식 언어’입니다. 

## 정규표현식이란 무엇인가?

정규 표현식은 컴퓨터 과학의 ‘정규 언어’로부터 유래하였으며 구현체에 따라 ‘정규 언어’보다 더 넓은 언어를 표현할 수도 있습니다.

정규 표현식은 기계가 언어라는 개념을 인지할 수 있도록 하기 위해 언어를 수학적으로 표현한 개념입니다. 그리고 여기서 말하는 언어는 컴퓨터 과학에서의 언어를 지칭하는데, 컴퓨터 과학에서의 언어는 문자열 그 이상 그 이하도 아니므로 복잡하게 생각하실 필요가 없습니다. 

하지만 이 언어가 아무 문자열을 생각없이 집어넣은 집합을 의미하는 것이 아닌만큼 아래 3가지 조건을 충족해야 비로소 언어라고 할 수 있습니다. 

1. 유한한 길이의 기호들의 집합 `S`가 존재한다.

2. `S`의 원소들로 만든 문자열의 집합인 `S*`를 형성하는 규칙이 반드시 존재한다.

3. 규칙에 맞게 만들어진 문자열들이 어떤 의미를 가지는지 결정할 수 있다.

정규 표현식은 세부적으로는 많은 텍스트 편집기와 프로그래밍 언어에서 문자열의 검색과 치환을 하기 위해 사용됩니다. 또한, 검색 엔진, 워드 프로세서와 문서 편집기의 찾아 바꾸기 대화 상자, 그리고 sed, AWK와 같은 문자 처리 유틸리티, 어휘 분석에 사용됩니다.

정규 표현식은 자체의 문법도 가지고 있으며 많은 프로그래밍 언어, 텍스트 처리 프로그램, 고급 텍스트 편집기 등에서 제공합니다. 

언어별 정규 표현식의 내장방법이 다른데 아래 몇 가지 예시를 드리겠습니다.

Perl, JavaScript, Ruby, Tcl 등은 정규 표현식을 문법에 내장합니다.

.NET, JAVA, Python, POSIX C, C++ 등에서는 표준 라이브러리를 통해 정규 표현식을 제공합니다. 

## 정규표현식에서 사용할 수 있는 주요 패턴은 어떤 것이 있는가?

매칭 패턴

| 패턴 | 의미 |
| --- | --- |
| a-zA-Z | 영어알파벳(-으로 범위 지정) |
| ㄱ-ㅎ가-힣 | 한글 문자(-으로 범위 지정) |
| 0-9 | 숫자(-으로 범위 지정) |
| .	| 모든 문자열(숫자, 한글, 영어, 특수기호, 공백 모두 / 단, 줄바꿈은 불가능) |
| \d | 숫자 |
| \D | 숫자가 아닌 것 |
| \w | 영어 알파벳, 숫자, 언더스코어(_) |
| \W | \w가 아닌 것 |
| \s | space 공백 | 
| \S | space 공백이 아닌 것 |
| \특수기호 | 특수기호 |


검색 패턴

| 기호 | 의미 |
| --- | --- |
| \| | OR |
| [] | 괄호안의 문자들 중 하나 |
| [^문자] | 괄호안의 문자를 제외한 것 |
| ^문자열 | 특정 문자열로 시작(괄호 없음 주의!) |
| 문자열$ | 특정 문자열로 끝남 |
| () | 그룹 검색 및 분류(`match` 메서드에서 그룹별로 묶어줌) |
| (?: 패턴) | 그룹 검색(분류X) |
| \b | 단어의 처음/끝 |
| \B | 단어의 처음/끝이 아님 |

수량 패턴

| 기호 | 의미 |
| --- | --- |
| ? | 최대 1번(없거나 1개) |
| * | 없거나 있거나 여러 개 가능 |
| + | 최소 1개(1개~여러 개) |
| {n} | n개 |
| {Min, } | 최소 Min개 이상 |
| {Min, Max}| 최소 Min개 이상, 최대 Max개 이하 |

플래그(동시에 여러 개 사용 가능)

| 플래그 | 의미 |
| --- | --- |
| g | Global: 모든 문자 검색(안 쓰면 매칭되는 첫 문자만 검색) |
| i | Ignore Case: 대소문자 구분 안함 |
| m | Multiline: 여러 행의 문자열에 대해 검색 |

## RegExp 객체의 주요 속성/메서드는 무엇인가?

| 속성 | 설명 |
| --- | --- |
| `/ ... /` | 정규 표현식 리터럴 (백슬래시 `\` 아님) |
| lastIndex | 다음 매치를 시작할 지점입니다.<br>- `g` 플래그로 글로벌 탐색을 하거나, `y` 플래그로 스티키(sticky) 탐색을 할 때 설정됩니다. |
| source | `/ ... /` 안에 있는 문자열입니다. |
| 기타 속성 | **global**: 정규 표현식이 글로벌로 작동하는지 알려줍니다. `g` 플래그에 해당하며, `true` 또는 `false` 값입니다.<br>**hasIndices**: 매치된 문자열의 시작 및 끝 인덱스 저장이 설정되어 있는지 알려줍니다. `d` 플래그에 해당하며, `true` 또는 `false` 값입니다.<br>**ignoreCase**: 대소문자 무시가 설정되어 있는지 알려줍니다. `i` 플래그에 해당하며 `true` 또는 `false` 값입니다.<br>**multiline**: 여러 줄(multiline) 탐색이 설정되어 있는지 알려줍니다. `m` 플래그에 해당하며, `true` 또는 `false` 값입니다<br>**sticky**: 스티키(sticky) 탐색이 설정되어 있는지 알려줍니다. `y` 플래그에 해당하며, `true` 또는 `false` 값입니다.<br>**unicode**: 유니코드 값이 설정되어 있는지 알려줍니다. u 플래그에 해당하며, `true` 또는 `false` 값입니다. |

| 메서드 | 설명 |
| --- | --- | 
| exec(str) | 문자열이 정규 표현식의 패턴과 맞는지 테스트합니다.<br>- `array` 또는 `null` 값을 반환합니다.<br>- 여러 번 실행하여 문자열 내의 모든 매치를 찾아냅니다(`matchAll()`과 유사).<br>- 더 이상의 매치가 없을 경우 `null`을 반환하고 `lastIndex`를 0으로 초기화합니다. |
| test(str) | 문자열이 정규 표현식의 패턴과 맞는지 테스트합니다.<br>- `true` 또는 `false` 값을 반환합니다. |
| '문자열'.match(/정규 표현식/) | 문자열이 정규 표현식의 패턴과 맞을 경우 첫 매치를 반환합니다.<br>- 매치하지 않을 경우 `null`을 반환합니다. |
| '문자열'.matchAll(/정규 표현식/) | 문자열이 정규 표현식의 패턴과 맞을 경우 모든 매치를 반환합니다.<br>- 매치하지 않을 경우 `null`을 반환합니다. |
| '문자열'.split(/정규 표현식/) | 문자열을 정규 표현식의 패턴을 구분자로 한 배열로 변환합니다. |


## 정규표현식 패턴을 생성하여 데이터를 필터링하거나 변경하는 방법은 무엇인가?

정규표현식의 패턴은 여러 가지가 있습니다.

-	유효성 검사

    내용: 주어진 문자열이 패턴에 맞는가?

    예시: 유효한 이메일 주소인가?

    입력자료형 / 출력자료형: `String` / `Boolean`

-	유효성 검사 필터링

    내용: 리스트에서 패턴에 맞는 문자열만 남긴다.

    예시 1: 문자열 리스트에서 이메일 형식에 맞는 것만 남긴다.

    예시 2: 파일명 리스트에서 확정자가 `.png`인 것만 남긴다.

    입력자료형/출력자료형: `Array<String>`  / `Array<String>`

-	부분문자열 추출 1건

    내용: 주어진 문자열에 패턴에 맞는 부분문자열 1건 추출

    예시: 이메일 주소에서 서버주소 추출

    입력자료형/출력자료형: `String` / `String`

-	부분문자열 추출 여러 건

    내용: 주어진 문자열에 패턴에 맞는 부분문자열 여러건 추출

    예시: HTML 텍스트에서 이메일 주소들을 수집

    입력자료형/출력자료형: `String` / `Array<String>`

-	행단위 추출 I

    내용: 패턴에 맞는 문자열을 포함한 행들을 추출

    입력자료형/출력자료형: `String` / `String`

-	행단위 추출 II

    내용: 패턴에 맞는 문자열을 포함한 행들을 추출

    입력자료형/출력자료형: `Array<String>`  / `Array<String>`

-	문자열 치환

    내용: 주어진 문자열의 일부를 변경

    예시: URL의 서버주소 변경

    입력자료형/출력자료형: `String` / `String`