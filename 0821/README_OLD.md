# Node.js (Firebase Database 연동)

## Database란 무엇이며, Firebase Database는 어떤 장점이 있는가?

Database란 일반적으로 컴퓨터 시스템에 전자적으로 저장되는 구조화된 정보 또는 데이터의 조직화된 모음입니다. 이는 일반적으로 Database 관리 시스템인 DBMS에 의해 제어됩니다. 연결된 애플리케이션과 함께 데이터와 DBMS를 하나로 묶어서 데이터베이스 시스템이라고 하며 줄여서 Database라고도 합니다.
Firebase Database의 장점에 대해서 알아보기 전에 Firebase Database가 무엇인지부터 알아보려고 합니다. Firebase 이전에 모바일 서버를 개발하기 위해서는 인증, DB, 푸시 알람, 스토리지, API 등 모든 것을 개발해야 했고 리눅스, FTP, DB를 설치하고 노드 서버 또는 스프링 서버, 방화벽을 올리고 도메인을 구입하는 등 앱을 개발할 때마다 이 번거로운 작업들을 반복해야 했습니다. 
이런 시간 낭비를 줄이기 위해 이 모든 플랫폼을 프로젝트 구축 시 자동적으로 만들어 주는 것이 바로 Firebase입니다. 또한 서버를 구축하기 위해 리눅스 명령어를 알 필요도 없으며 도메인을 구입할 필요도 없고 개발하는 동안에는 서버를 구입할 필요도 없습니다. 
이를 통해 프론트엔드 개발과 백엔드 개발의 경계가 모호해지고 적은 비용으로 매우 좋은 앱을 만들 것으로 예상됩니다. 
위에서 언급한 것들로도 이미 충분히 Firebase의 장점이 드러났지만 더 있습니다. 
Firebase는 아래와 같은 장점들이 더 있습니다.

1.	Firebase는 인증 시스템을 지원합니다.
이것이 장점인 이유는 로그인을 담당하는 부분의 복잡성에 있습니다. 로그인을 담당하는 부분을 직접 서버로 개발할 경우, 인증된 사용자인지 확인하는 세션처리에서 그 세션으로 DB와 저장소에 접근해도 문제가 없는지 확인하는 보안처리, 비밀번호 찾기, 아이디 잦기, 비밀번호 바꾸기, 이메일 인증 등 복잡한 것들 구축해야 합니다. 하지만 Firebase 이 모든 것을 지원합니다.

2.	Firebas는 NoSQI 기반의 3세대 DB입니다. 
현재 사용되는 오라클, MySQL 같은 관계형 DB보다 Document 형식의 빠르고 간편한 NoSQL기반의 DB를 도입했습니다. 또한 다른 Firebase는 다른 DB와 다르게 RTSP(Real Time Stream Protocol) 방식의 DB를 지원하고 있습니다. RSTP는 말그대로 실시간으로 데이터들을 전송해주는 방식입니다. 이 방식을 사용하면 소켓 기반 서버를 만들어서 통신하는 것보다 비약적으로 코드 양이 줄게 되어 코드 몇 줄로도 원하는 구성을 만들 수 있습니다. 

3.	Firebase는 원격 구성을 지원합니다. 
이 덕분에 원격으로 앱의 환경 상태를 구성할 수 있습니다. 앱의 배경화면, 테마, 폰트를 바꾸거나 업데이트 알림창을 띄우거나 앱의 환경을 원격으로 구성할 때 사용하는 기능입니다. 

4.	Firebase는 콘솔을 제공합니다.
앱의 서버를 만들게 되면 리눅스, FTP, MySQL(DB), Node.JS 서버 혹은 Spring 서버, 푸시보내기 API만 구축할 것이 아니라 이 모든 것을 관리할 수 있는 관리자 페이지가 필요합니다. 이렇게 되면 앱을 만들기 위해서 앱개발자 뿐만 아니라 서버 개발자까지 필요해집니다. 하지만 Firebase는 이 모든 것을 지원해줍니다.

5.	Firebase는 Analytics를 제공합니다. 
Analytics는 단어 그대로 통계를 말하며 다수의 사용자가 앱을 어떻게 사용하는지 통계 정보를 가지고 있습니다. 앱의 현재 접속자부터 오류통계, 사용자 유지율, 고객들의 앱 업데이트 상태, 사용자들이 특정 페이지에 머문 시간, 이벤트 등을 추적할 수 있습니다. 이런 데이터들을 수집해서 사용자가 어떤 페이지에서 흥미를 잃었는지, 어떤 페이지가 인기가 많은지 등을 찾아낼 수 있으며 맞춤 마케팅이 가능합니다. 

## Node.js로 만든 웹 서버와 Firebase Database 서버는 어떻게 통신하는가?
1.	Firebase CLI 설치
-	터미널 창을 열러 npm install -g firebase-tools를 입력해줍니다. 
-	터미널 창을 열어 Firebase login을 입력해줍니다. 
-	자신의 Firebase Id가 뜨면서 로그인이 완료된 것을 확인할 수 있습니다. 

2.	Firebase 프로젝트 초기화 및 서버 실행
-	바탕화면에 프로젝트 폴더를 만들어 줍니다. 
-	프로젝트 폴더 안에서 firebase init 명령어를 입력해주어야 합니다. 설치될 경로를 한번 더 확인하신 후 DB를 선택해줍니다. 
-	Firebase DB 모듈 설치가 완료 되었습니다. 
-	프로젝트 폴더 안에는 json 파일을 포함한 2개의 파일이 생성됩니다. 
-	이번에는 호스팅을 하기 위한 초기화 작업을 해주겠습니다. 다시 한번 더 init 명령어를 입력하신 후 설치 경로를 확인해주시고, Hosting을 선택해 줍니다. 
-	엔터를 치면 디폴트 값으로 public이라는 폴더가 만들어집니다. 엔터를 쳐주세요. 
-	마지막은 싱글페이지 만들거냐는 것에 대한 질문이 나옵니다. 여러 페이지를 만들거면 입력한 후 엔터를 쳐줍니다. 
-	Firebase hosting 초기화 작업이 완료되었습니다. 
-	프로젝트 파일에 들어가면 2개의 파일과 1개의 폴더를 확인하실 수 있을 것입니다. 
-	Public 폴더 안에 들어가시면 index.html 파일을 확인 하실 수 있습니다. 더블클릭으로 열어주세요. 
-	“Firebase Hosting Setup Complete”라는 문구가 적힌 창이 뜨면 성공입니다. 

## References

1.	CLE, 데이터베이스, 2014
https://www.oracle.com/kr/database/what-is-database/

2.	Beom Dev Log, FireBase란?, 2019
https://beomseok95.tistory.com/106

3.	코딩이 머에요, [Firebase&Web연동] node.js를 이용해서 개발용 로컬 웹서버 실행하기, 2018
https://mateeth.tistory.com/2
